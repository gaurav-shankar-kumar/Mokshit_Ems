{% extends 'common/body/body.html' %} 
{% load static %} 

{% block body %}
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2"> 
        <div class="col-sm-6">
          <h1 class="m-0">Admin-Dashboard</h1>
        </div>
        <!-- /.col -->
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
          </ol>
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
  </div>
  <!-- /.content-header -->

  <!-- Main content -->
  <div class="content">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-3 col-6">
          <!-- small box -->
          <div class="small-box bg-info">
            <div class="inner">
              <h3>{{totalemployee.count}}</h3>

              <p>All-Employees</p>
            </div>
            <a href="/allusers" class="small-box-footer"
              >More info <i class="fas fa-arrow-circle-right"></i
            ></a>

            <div class="icon">
              <i class="ion ion-bag"></i>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-6">
          <!-- small box -->
          <div class="small-box bg-info">
            <div class="inner">
              <h3>{{totalemployee.count}}</h3>

              <p>All-Employees</p>
            </div>
            <a href="/allusers" class="small-box-footer"
              >More info <i class="fas fa-arrow-circle-right"></i
            ></a>

            <div class="icon">
              <i class="ion ion-bag"></i>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-6">
          <!-- small box -->
          <div class="small-box bg-info">
            <div class="inner">
              <h3>{{totalemployee.count}}</h3>

              <p>All-Employees</p>
            </div>
            <a href="/allusers" class="small-box-footer"
              >More info <i class="fas fa-arrow-circle-right"></i
            ></a>

            <div class="icon">
              <i class="ion ion-bag"></i>
            </div>
          </div>
        </div>
       

        <div class="col-lg-6">
          <div class="card">
            <div class="card-header border-0">
              <div class="d-flex justify-content-between">
                <h3 class="card-title">Calender</h3>
                <a href="javascript:void(0);">View Report</a>
              </div>
            </div>
            <div class="card-body">
              <div id="calendar"></div>
              <script>
                document.addEventListener('DOMContentLoaded', function() {
                  var calendarEl = document.getElementById('calendar');
                  var calendar = new FullCalendar.Calendar(calendarEl, {
                    initialView: 'dayGridMonth'
                  });
                  calendar.render();
                });
              </script>
              


              

              <div class="position-relative mb-4">
                <canvas id="sales-chart"  height="10"></canvas>
              </div>

             
            </div>
          </div>
          <!-- /.card -->

          <div class="card ">
            <div class="card-header border-0">
              <h3 class="card-title">Upcoming Birthdays</h3>
            </div>
            <div class="card-body table-responsive p-0">
                <table class="table table-striped table-valign-middle">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Birthdays</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for i in empbirthday %}
                    <tr>
                      <td>
                        <img
                          src="{% static 'employee/dist/img/default-150x150.png' %}"
                          alt="Product 1"
                          class="img-circle img-size-32 mr-2"
                        />
                        {{i.get_full_name}}
                      </td>
                      <td>{{i.dob}}</td>
                    </tr>

                    {% endfor %}
                  </tbody>
                </table>
              </div>
              <nav aria-label="...">
                <ul class="pagination">
                  {% if empbirthday.has_previous %}

                  <li class="page-item">
                    <a
                      class="page-link"
                      href="/admindashboard/?page={{empbirthday.previous_page_number}}"
                      tabindex="-1"
                      >Previous</a
                    >
                  </li>
                  {% else %}
                  <li class="page-item">
                    <p class="page-link">Previous</p>
                  </li>
                  {% endif %}
                  <li class="page-item active">
                    <a class="page-link" href=""
                      >{{empbirthday.number}}
                      <span class="sr-only">(current)</span></a
                    >
                  </li>

                  {% if empbirthday.has_next %}
                  <li class="page-item">
                    <a
                      class="page-link"
                      href="/admindashboard/?page={{empbirthday.next_page_number}}"
                      >Next</a
                    >
                  </li>
                  {% else %}
                  <li class="page-item">
                    <p class="page-link">Next</p>
                  </li>

                  {% endif %}
                </ul>
              </nav>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="card">
              <div class="card-header border-0">
                <div class="d-flex justify-content-between">
                  <h1 class="card-title">Task Management System</h1>
                  <a href="/taskview">View Task-Management</a>
                </div>
              </div>
              <div class="card-body">
                <table class="table table-hover text-nowrap">
                  <thead>
                    <tr>
                      <th>Project-Title</th>
                      <th>Project-Manager</th>
                      <th>Emp-Name</th>
                    </tr>
                  </thead>
                  {% for task in alltasks%}
                  <tbody>
                    <tr>
                      <td>{{task.title}}</td>
                      <td>{{task.project_manager.get_full_name}}</td>
                      <td>{{task.user.get_full_name}}</td>
                      <td></td>

                      {% endfor %}
                    </tr>
                  </tbody>
                </table>

               
              </div>
            </div>
            <!-- /.card -->

            <div class="card">
              <div class="card-header border-0">
                <div class="d-flex justify-content-between">
                <h3 class="card-title">Employees Information</h3>
                <a href="/userview">View Employee Information</a>

              </div>
              <table class="table table-hover text-nowrap">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Designation</th>
                  </tr>
                </thead>
                {% for emp in totalemployee%}
                <tbody>
                  {% comment %} {% for a in users_count %} {% endcomment %}
                  <tr>
                    <td>{{emp.id}}</td>
                    <td>{{emp.get_full_name}}</td>
                    <td>{{emp.designation}}</td>
                    <td></td>

                    {% endfor %}
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
      </div>
    </div>
  </div>
 
  {% endblock body %}

  {% block script %}
  <!-- Page specific script -->
  
  
  {% endblock script %}
  

